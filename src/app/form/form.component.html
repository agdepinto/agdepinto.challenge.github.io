<div class="container">
    <div class="row justify-content-center">
      <form class="col-lg-6 col-md-8 col-sm-10 mt-3" (ngSubmit)="openModal(template)" [formGroup]="form">
        <div class="mb-3">
          <label for="inputName" class="form-label">Nombre</label>
          <input type="text" class="form-control" placeholder="Coloque su nombre" aria-label="inputName"
          formControlName="firstName" name="firstName" required>
          <div *ngIf="!form.valid" class="text-danger">
            <div *ngIf="form.controls['firstName'].errors && form.controls['firstName'].errors['required'] && form.controls['firstName'].touched">El nombre es requerido.</div>
            <div *ngIf="form.controls['firstName'].errors && form.controls['firstName'].errors['maxlength'] !== undefined && form.controls['firstName'].touched">El nombre debe contener maximo {{form.controls['firstName'].errors['maxlength'].requiredLength}}</div>
            <div *ngIf="form.controls['firstName'].errors && form.controls['firstName'].errors['minlength'] !== undefined && form.controls['firstName'].touched">El nombre debe contener minimo {{form.controls['firstName'].errors['minlength'].requiredLength}}</div>
          </div>
        </div>
        
        <div class="mb-3">
            <label for="inputApellido" class="form-label">Apellido</label>
            <input type="text" class="form-control" placeholder="Coloque su Apellido" aria-label="inputApellido" formControlName="lastName" name="lastName">
            <div *ngIf="!form.valid" class="text-danger">
              <div *ngIf="form.controls['lastName'].errors && form.controls['lastName'].errors['required'] && form.controls['lastName'].touched">El Apellido es requerido.</div>
              <div *ngIf="form.controls['lastName'].errors && form.controls['lastName'].errors['maxlength'] !== undefined && form.controls['lastName'].touched">El apellido debe contener maximo {{form.controls['lastName'].errors['maxlength'].requiredLength}}</div>
            <div *ngIf="form.controls['lastName'].errors && form.controls['lastName'].errors['minlength'] !== undefined && form.controls['lastName'].touched">El apellido debe contener minimo {{form.controls['lastName'].errors['minlength'].requiredLength}}</div>
            </div>
        </div>
        <div class="mb-3">
            <label for="inputDni" class="form-label">DNI</label>
            <input type="text" class="form-control" id="inputDni" placeholder="" formControlName="dni" name="dni">
            <div *ngIf="!form.valid" class="text-danger">
              <div *ngIf="form.controls['dni'].errors && form.controls['dni'].errors['required'] && form.controls['dni'].touched">El DNI es requerido.</div>
              <div *ngIf="form.controls['dni'].errors && form.controls['dni'].errors['maxlength'] !== undefined && form.controls['dni'].touched">El dni debe contener maximo {{form.controls['dni'].errors['maxlength'].requiredLength}}</div>
            <div *ngIf="form.controls['dni'].errors && form.controls['dni'].errors['minlength'] !== undefined && form.controls['dni'].touched">El dni debe contener minimo {{form.controls['dni'].errors['minlength'].requiredLength}}</div>
            </div>
        </div>
        <div class="mb-3">
            <label for="inputnumber" class="form-label">Telefono</label>
            <input type="text" class="form-control" id="inputNumber" placeholder="(123) 4567-8901" formControlName="cellphone" name="cellphone" mask="(000) 0000-0000">
            <div *ngIf="!form.valid" class="text-danger">
              <div *ngIf="form.controls['cellphone'].errors && form.controls['cellphone'].errors['required'] && form.controls['cellphone'].touched">El Telefono es requerido.</div>
              <div *ngIf="form.controls['cellphone'].errors && form.controls['cellphone'].errors['maxlength'] !== undefined && form.controls['cellphone'].touched">El telefono debe contener maximo {{form.controls['cellphone'].errors['maxlength'].requiredLength}}</div>
            <div *ngIf="form.controls['cellphone'].errors && form.controls['cellphone'].errors['minlength'] !== undefined && form.controls['cellphone'].touched">El telefono debe contener minimo {{form.controls['cellphone'].errors['minlength'].requiredLength}}</div>
            </div>
        </div>
        <div class="mb-3">
            <label for="inputEmail4" class="form-label">Email</label>
            <input type="email" class="form-control" id="inputEmail4" formControlName="email" name="email">
            <div *ngIf="!form.valid" class="text-danger">
              <div *ngIf="form.controls['email'].errors && form.controls['email'].errors['required'] && form.controls['email'].touched">El Email es requerido.</div>
              <div *ngIf="form.controls['email'].errors && form.controls['email'].errors['maxlength'] !== undefined && form.controls['email'].touched">El email debe contener maximo {{form.controls['email'].errors['maxlength'].requiredLength}}</div>
            <div *ngIf="form.controls['email'].errors && form.controls['email'].errors['minlength'] !== undefined && form.controls['email'].touched">El email debe contener minimo {{form.controls['email'].errors['minlength'].requiredLength}}</div>
            <div *ngIf="form.controls['email'].errors && form.controls['email'].errors['email'] !== undefined && form.controls['email'].touched">El email debe ser un correo electronico valido</div>
            </div>
        </div>
        <div class="text-center">
          <button type="submit" class="btn btn-primary">Enviar</button>
        </div>
      </form>
    </div>
  </div>
  
  <ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Confirmar datos</h4>
      <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
        <span aria-hidden="true" class="visually-hidden">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <h5>Nombre:</h5> {{form.controls['firstName'].value}}
      <h5>Apellido:</h5> {{form.controls['lastName'].value}}
      <h5>DNI:</h5> {{form.controls['dni'].value}}
      <h5>Telefono:</h5> {{ form.controls['cellphone'].value | number: '1.0-0' }}
      <h5>Email:</h5> {{form.controls['email'].value}}
    </div>
  </ng-template>
  
  












